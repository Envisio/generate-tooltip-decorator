{"version":3,"sources":["../src/index.js"],"names":["shared","chartType","Error","generateTooltipDecorator","series","data","options","displayData","toolTipComments","percentage","key","x","point","index","indexOf","toFixed","replace","undefined","comment","includes","regex","match","join","length"],"mappings":";;;;;;kBAAe,gBAAiC;AAAA,MAArBA,MAAqB,QAArBA,MAAqB;AAAA,MAAbC,SAAa,QAAbA,SAAa;;AAC9C,MAAID,WAAW,KAAf,EAAsB;AACpB,UAAM,IAAIE,KAAJ,CAAU,+DAAV,CAAN;AACD;AACD,SAAO,SAASC,wBAAT,GAAoC;AAAA,kBAGrC,IAHqC,CAEvCC,MAFuC;AAAA,QAE7BC,IAF6B,WAE7BA,IAF6B;AAAA,kCAEvBC,OAFuB;AAAA,gDAEZC,WAFY;AAAA,QAEZA,WAFY,yCAEE,EAFF;AAAA,gDAEMC,eAFN;AAAA,QAEMA,eAFN,yCAEwB,EAFxB;AAAA,QAEgCC,UAFhC,GAGrC,IAHqC,CAEgCA,UAFhC;AAAA,QAE4CC,GAF5C,GAGrC,IAHqC,CAE4CA,GAF5C;AAAA,QAEiDC,CAFjD,GAGrC,IAHqC,CAEiDA,CAFjD;AAAA,QAEoDC,KAFpD,GAGrC,IAHqC,CAEoDA,KAFpD;;AAIzC,QAAMC,QAAQR,KAAKS,OAAL,CAAaF,KAAb,CAAd;AACA,QAAIX,cAAc,KAAlB,EAAyB;AACvB,UAAIO,gBAAgBK,KAAhB,MAA2B,EAA/B,EAAmC;AACjC,0BAAgBH,GAAhB,cAA4BH,YAAYM,KAAZ,CAA5B,WAAoDJ,WAAWM,OAAX,CAAmB,CAAnB,CAApD;AACD;AACD,wBAAgBL,GAAhB,cAA4BH,YAAYM,KAAZ,CAA5B,WAAoDJ,WAAWM,OAAX,CAAmB,CAAnB,CAApD,eAAmFP,gBAAgBK,KAAhB,EAAuBG,OAAvB,CAA+B,KAA/B,EAAsC,QAAtC,CAAnF;AACD;;AAED,QAAIR,gBAAgBK,KAAhB,MAA2BI,SAA/B,EAA0C;AACxC,wBAAgBN,CAAhB,cAA0BJ,YAAYM,KAAZ,CAA1B;AACD;;AAED,QAAIK,gBAAJ;AACA,QAAIV,gBAAgBK,KAAhB,EAAuBM,QAAvB,CAAgC,IAAhC,CAAJ,EAA2C;AACzCD,gBAAUV,gBAAgBK,KAAhB,EAAuBG,OAAvB,CAA+B,KAA/B,EAAsC,UAAtC,CAAV;AACA,wBAAgBL,CAAhB,cAA0BJ,YAAYM,KAAZ,CAA1B,cAAqDK,OAArD;AACD;;AAED,QAAIV,gBAAgBK,KAAhB,EAAuBM,QAAvB,CAAgC,2BAAhC,KAAgEX,gBAAgBK,KAAhB,EAAuBM,QAAvB,CAAgC,QAAhC,CAApE,EAA+G;AAC7GD,gBAAUV,gBAAgBK,KAAhB,EAAuBG,OAAvB,CAA+B,YAA/B,EAA6C,EAA7C,CAAV;AACA,UAAMI,QAAQ,sDAAd;AACAF,gBAAUA,QAAQF,OAAR,CAAgBI,KAAhB,EAAuB,IAAvB,CAAV;AACAF,gBAAUA,QAAQG,KAAR,CAAc,yBAAd,EAAyCC,IAAzC,CAA8C,UAA9C,CAAV;AACA,wBAAgBX,CAAhB,cAA0BJ,YAAYM,KAAZ,CAA1B,cAAqDK,OAArD;AACD;;AAED,QAAIV,gBAAgBK,KAAhB,EAAuBQ,KAAvB,CAA6B,MAA7B,EAAqCE,MAArC,KAAgD,CAApD,EAAuD;AACrD,wBAAgBZ,CAAhB,cAA0BJ,YAAYM,KAAZ,CAA1B,cAAqDL,gBAAgBK,KAAhB,CAArD;AACD;;AAEDK,cAAUV,gBAAgBK,KAAhB,EAAuBQ,KAAvB,CAA6B,yBAA7B,EAAwDC,IAAxD,CAA6D,UAA7D,CAAV;AACA,sBAAgBX,CAAhB,cAA0BJ,YAAYM,KAAZ,CAA1B,cAAqDK,OAArD;AACD,GApCD;AAqCD,C","file":"index.js","sourcesContent":["export default function ({ shared, chartType }) {\n  if (shared !== false) {\n    throw new Error('generateTooltipDecorator does not support shared tooltip yet.');\n  }\n  return function generateTooltipDecorator() {\n    const {\n      series: { data, options: { displayData = [], toolTipComments = [] } }, percentage, key, x, point,\n    } = this;\n    const index = data.indexOf(point);\n    if (chartType === 'pie') {\n      if (toolTipComments[index] === '') {\n        return `<span>${key}<br />${displayData[index]} - ${percentage.toFixed(2)}%</span>`;\n      }\n      return `<span>${key}<br />${displayData[index]} - ${percentage.toFixed(2)}%<br />${toolTipComments[index].replace(/\\n/g, '<br />')}</span>`;\n    }\n\n    if (toolTipComments[index] === undefined) {\n      return `<span>${x}<br />${displayData[index]}</span>`;\n    }\n\n    let comment;\n    if (toolTipComments[index].includes('\\n')) {\n      comment = toolTipComments[index].replace(/\\n/g, ' <br /> ');\n      return `<span>${x}<br />${displayData[index]}<br />${comment}</span>`;\n    }\n\n    if (toolTipComments[index].includes('rc-widget-tooltip-comment') && toolTipComments[index].includes('<br />')) {\n      comment = toolTipComments[index].replace(/<br ?\\/?>/g, '');\n      const regex = /<span class=\"rc-widget-tooltip-comment\">(.*)<\\/span>/;\n      comment = comment.replace(regex, '$1')\n      comment = comment.match(/([^\\s]*\\s[^\\s]*){0,20}/g).join(' <br /> ');\n      return `<span>${x}<br />${displayData[index]}<br />${comment}</span>`;\n    }\n\n    if (toolTipComments[index].match(/\\w+/g).length === 1) {\n      return `<span>${x}<br />${displayData[index]}<br />${toolTipComments[index]}</span>`;\n    }\n\n    comment = toolTipComments[index].match(/([^\\s]*\\s[^\\s]*){0,20}/g).join(' <br /> ');\n    return `<span>${x}<br />${displayData[index]}<br />${comment}</span>`;\n  };\n}\n"]}